@startuml
title <b>S3 Get Object - Remote diskgroup in error (Non DTM)</b>

actor "S3 client" as S3C #blue
box "N-1"
actor "S3 server" as S3 #red
actor m0d1
database "DG1-L"
database "DG1-R"
endbox

box "N-2"
actor m0d2
database "DG2-L"
database "DG2-R"
endbox

box "N-3"
actor m0d3
database "DG3-L"
database "DG3-R"
endbox

box "N-4"
actor m0d4
database "DG4-L"
database "DG4-R"
endbox

box "N-5"
actor m0d5
database "DG5-L"
database "DG5-R"
endbox

box "N-6"
actor m0d6
database "DG6-L"
database "DG6-R"
endbox

note over "DG2-L": <b>Remote disk group\n<b> is in error.
S3C --> S3 ++: Get Object
|||
... <b>~~<size:20>This object was written with Pool version 4+2 striping~~</b> ...

S3-->m0d3 ++:Read Object

m0d3 --> "DG3-L" ++:Read Block-1

S3-->m0d1 ++:Read Object
m0d1 --> "DG1-L" ++:Read Block-2

S3-->m0d1 :Read Parity
m0d1-[#green]->"DG1-R" ++:Read Block-Parity

"DG3-L" ->  m0d3 --

m0d3->S3 --

"DG1-L" ->  m0d1 --
m0d1->S3

"DG1-R" -[#green]>  m0d1 --
m0d1-[#green]>S3 --

... <b>~~<size:20>Reconstruct data using Parity~~</b> ...

|||

S3C <- S3 --: Object Data
|||
|||
|||

S3C --> S3 ++ : Get Object
|||
... <b>~~<size:20>This object was written with Pool version 2+2 replication~~</b> ...

S3-->m0d3 ++ :Read Object
m0d3 --> "DG3-L" ++ :Read Block-1

S3-->m0d1 ++ :Read Object
m0d1 --> "DG1-R" ++ :Read copy of Block-2

S3-->m0d3 :Read Object
m0d3-->"DG3-R" ++ :Read Block-3

"DG3-L" ->  m0d3 --
m0d3->S3

"DG1-R" ->  m0d1 --
m0d1->S3 --

"DG3-R" ->  m0d3 --
m0d3->S3 --

S3C <- S3 -- : Object Data
@enduml

